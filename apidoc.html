<!doctype html>
<html class="no-js" lang="zh-CN" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="索引" href="genindex.html" /><link rel="search" title="搜索" href="search.html" /><link rel="prev" title="发布确认" href="rabbitmq-tutorial/7-publisher-confirms.html" />

    <link rel="shortcut icon" href="_static/icon.png"/><!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>API 参考 - Wrapper for the aiormq for asyncio and humans</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Wrapper for the aiormq for asyncio and humans</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/logo2x.png" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="搜索" name="q" aria-label="搜索">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quick-start.html">快速开始</a></li>
<li class="toctree-l1"><a class="reference internal" href="patterns.html">模式和辅助工具</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="rabbitmq-tutorial/index.html">RabbitMQ 教程</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of RabbitMQ 教程</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="rabbitmq-tutorial/1-introduction.html">入门</a></li>
<li class="toctree-l2"><a class="reference internal" href="rabbitmq-tutorial/2-work-queues.html">工作队列</a></li>
<li class="toctree-l2"><a class="reference internal" href="rabbitmq-tutorial/3-publish-subscribe.html">发布/订阅</a></li>
<li class="toctree-l2"><a class="reference internal" href="rabbitmq-tutorial/4-routing.html">路由</a></li>
<li class="toctree-l2"><a class="reference internal" href="rabbitmq-tutorial/5-topics.html">Topics</a></li>
<li class="toctree-l2"><a class="reference internal" href="rabbitmq-tutorial/6-rpc.html">远程过程调用(RPC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="rabbitmq-tutorial/7-publisher-confirms.html">发布确认</a></li>
</ul>
</li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">API 参考</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/mosquito/aio-pika/blob/master/docs/source/apidoc.rst?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/mosquito/aio-pika/edit/master/docs/source/apidoc.rst" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="module-aio_pika">
<span id="api"></span><h1>API 参考<a class="headerlink" href="#module-aio_pika" title="Link to this heading">¶</a></h1>
<dl class="py attribute">
<dt class="sig sig-object py" id="aio_pika.AMQPException">
<span class="sig-prename descclassname"><span class="pre">aio_pika.</span></span><span class="sig-name descname"><span class="pre">AMQPException</span></span><a class="headerlink" href="#aio_pika.AMQPException" title="Link to this definition">¶</a></dt>
<dd><p><code class="xref py py-class docutils literal notranslate"><span class="pre">AMQPError</span></code> 的别名</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="aio_pika.Channel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aio_pika.</span></span><span class="sig-name descname"><span class="pre">Channel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractConnection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_number</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">publisher_confirms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_return_raises</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aio_pika/channel.html#Channel"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.Channel" title="Link to this definition">¶</a></dt>
<dd><p>Channel abstraction</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>connection</strong> -- <code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.adapter.AsyncioConnection</span></code> instance</p></li>
<li><p><strong>loop</strong> -- Event loop (<code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.get_event_loop()</span></code>
when <code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code>)</p></li>
<li><p><strong>future_store</strong> -- <code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.common.FutureStore</span></code> instance</p></li>
<li><p><strong>publisher_confirms</strong> -- False if you don't need delivery
confirmations (in pursuit of performance)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="aio_pika.Channel.EXCHANGE_CLASS">
<span class="sig-name descname"><span class="pre">EXCHANGE_CLASS</span></span><a class="headerlink" href="#aio_pika.Channel.EXCHANGE_CLASS" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#aio_pika.Exchange" title="aio_pika.exchange.Exchange"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exchange</span></code></a> 的别名</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="aio_pika.Channel.QUEUE_CLASS">
<span class="sig-name descname"><span class="pre">QUEUE_CLASS</span></span><a class="headerlink" href="#aio_pika.Channel.QUEUE_CLASS" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#aio_pika.Queue" title="aio_pika.queue.Queue"><code class="xref py py-class docutils literal notranslate"><span class="pre">Queue</span></code></a> 的别名</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.Channel.declare_exchange">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">declare_exchange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#aio_pika.ExchangeType" title="aio_pika.abc.ExchangeType"><span class="pre">ExchangeType</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">ExchangeType.DIRECT</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">durable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_delete</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">passive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldValue</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AbstractExchange</span></span></span><a class="reference internal" href="_modules/aio_pika/channel.html#Channel.declare_exchange"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.Channel.declare_exchange" title="Link to this definition">¶</a></dt>
<dd><p>Declare an exchange.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> -- string with exchange name or
<a class="reference internal" href="#aio_pika.Exchange" title="aio_pika.exchange.Exchange"><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exchange.Exchange</span></code></a> instance</p></li>
<li><p><strong>type</strong> -- Exchange type. Enum ExchangeType value or string.
String values must be one of 'fanout', 'direct', 'topic',
'headers', 'x-delayed-message', 'x-consistent-hash'.</p></li>
<li><p><strong>durable</strong> -- Durability (exchange survive broker restart)</p></li>
<li><p><strong>auto_delete</strong> -- Delete queue when channel will be closed.</p></li>
<li><p><strong>internal</strong> -- Do not send it to broker just create an object</p></li>
<li><p><strong>passive</strong> -- Do not fail when entity was declared
previously but has another params. Raises
<code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exceptions.ChannelClosed</span></code> when exchange
doesn't exist.</p></li>
<li><p><strong>arguments</strong> -- additional arguments</p></li>
<li><p><strong>timeout</strong> -- execution timeout</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#aio_pika.Exchange" title="aio_pika.exchange.Exchange"><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exchange.Exchange</span></code></a> instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.Channel.declare_queue">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">declare_queue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">durable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclusive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">passive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_delete</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldValue</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AbstractQueue</span></span></span><a class="reference internal" href="_modules/aio_pika/channel.html#Channel.declare_queue"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.Channel.declare_queue" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> -- queue name</p></li>
<li><p><strong>durable</strong> -- Durability (queue survive broker restart)</p></li>
<li><p><strong>exclusive</strong> -- Makes this queue exclusive. Exclusive queues may only
be accessed by the current connection, and are deleted when that
connection closes. Passive declaration of an exclusive queue by
other connections are not allowed.</p></li>
<li><p><strong>passive</strong> -- Do not fail when entity was declared
previously but has another params. Raises
<code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exceptions.ChannelClosed</span></code> when queue
doesn't exist.</p></li>
<li><p><strong>auto_delete</strong> -- Delete queue when channel will be closed.</p></li>
<li><p><strong>arguments</strong> -- additional arguments</p></li>
<li><p><strong>timeout</strong> -- execution timeout</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#aio_pika.Queue" title="aio_pika.queue.Queue"><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.queue.Queue</span></code></a> instance</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exceptions.ChannelClosed</span></code> instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.Channel.get_exchange">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_exchange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AbstractExchange</span></span></span><a class="reference internal" href="_modules/aio_pika/channel.html#Channel.get_exchange"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.Channel.get_exchange" title="Link to this definition">¶</a></dt>
<dd><p>With <code class="docutils literal notranslate"><span class="pre">ensure=True</span></code>, it's a shortcut for
<code class="docutils literal notranslate"><span class="pre">.declare_exchange(...,</span> <span class="pre">passive=True)</span></code>; otherwise, it returns an
exchange instance without checking its existence.</p>
<p>When the exchange does not exist, if <code class="docutils literal notranslate"><span class="pre">ensure=True</span></code>, will raise
<code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exceptions.ChannelClosed</span></code>.</p>
<p>Use this method in a separate channel (or as soon as channel created).
This is only a way to get an exchange without declaring a new one.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> -- exchange name</p></li>
<li><p><strong>ensure</strong> -- ensure that the exchange exists</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#aio_pika.Exchange" title="aio_pika.exchange.Exchange"><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exchange.Exchange</span></code></a> instance</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exceptions.ChannelClosed</span></code> instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.Channel.get_queue">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_queue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AbstractQueue</span></span></span><a class="reference internal" href="_modules/aio_pika/channel.html#Channel.get_queue"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.Channel.get_queue" title="Link to this definition">¶</a></dt>
<dd><p>With <code class="docutils literal notranslate"><span class="pre">ensure=True</span></code>, it's a shortcut for
<code class="docutils literal notranslate"><span class="pre">.declare_queue(...,</span> <span class="pre">passive=True)</span></code>; otherwise, it returns a
queue instance without checking its existence.</p>
<p>When the queue does not exist, if <code class="docutils literal notranslate"><span class="pre">ensure=True</span></code>, will raise
<code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exceptions.ChannelClosed</span></code>.</p>
<p>Use this method in a separate channel (or as soon as channel created).
This is only a way to get a queue without declaring a new one.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> -- queue name</p></li>
<li><p><strong>ensure</strong> -- ensure that the queue exists</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#aio_pika.Queue" title="aio_pika.queue.Queue"><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.queue.Queue</span></code></a> instance</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exceptions.ChannelClosed</span></code> instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="aio_pika.Channel.is_closed">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_closed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#aio_pika.Channel.is_closed" title="Link to this definition">¶</a></dt>
<dd><p>Returns True when the channel has been closed from the broker
side or after the close() method has been called.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="aio_pika.Channel.is_initialized">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_initialized</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#aio_pika.Channel.is_initialized" title="Link to this definition">¶</a></dt>
<dd><p>Returns True when the channel has been opened
and ready for interaction</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="aio_pika.Connection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aio_pika.</span></span><span class="sig-name descname"><span class="pre">Connection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">URL</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loop</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractEventLoop</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ssl_context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SSLContext</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aio_pika/connection.html#Connection"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.Connection" title="Link to this definition">¶</a></dt>
<dd><p>Connection abstraction</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="aio_pika.Connection.CHANNEL_CLASS">
<span class="sig-name descname"><span class="pre">CHANNEL_CLASS</span></span><a class="headerlink" href="#aio_pika.Connection.CHANNEL_CLASS" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#aio_pika.Channel" title="aio_pika.channel.Channel"><code class="xref py py-class docutils literal notranslate"><span class="pre">Channel</span></code></a> 的别名</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.Connection.channel">
<span class="sig-name descname"><span class="pre">channel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel_number</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">publisher_confirms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_return_raises</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AbstractChannel</span></span></span><a class="reference internal" href="_modules/aio_pika/connection.html#Connection.channel"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.Connection.channel" title="Link to this definition">¶</a></dt>
<dd><p>Coroutine which returns new instance of <a class="reference internal" href="#aio_pika.Channel" title="aio_pika.Channel"><code class="xref py py-class docutils literal notranslate"><span class="pre">Channel</span></code></a>.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">aio_pika</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">loop</span><span class="p">):</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="k">await</span> <span class="n">aio_pika</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="s2">&quot;amqp://guest:guest@127.0.0.1/&quot;</span>
    <span class="p">)</span>

    <span class="n">channel1</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span>
    <span class="k">await</span> <span class="n">channel1</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="c1"># Creates channel with specific channel number</span>
    <span class="n">channel42</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">channel</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">channel42</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="c1"># For working with transactions</span>
    <span class="n">channel_no_confirms</span> <span class="o">=</span> <span class="k">await</span> <span class="n">connection</span><span class="o">.</span><span class="n">channel</span><span class="p">(</span>
        <span class="n">publisher_confirms</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">)</span>
    <span class="k">await</span> <span class="n">channel_no_confirms</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Also available as an asynchronous context manager:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">aio_pika</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">loop</span><span class="p">):</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="k">await</span> <span class="n">aio_pika</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="s2">&quot;amqp://guest:guest@127.0.0.1/&quot;</span>
    <span class="p">)</span>

    <span class="k">async</span> <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span> <span class="k">as</span> <span class="n">channel</span><span class="p">:</span>
        <span class="c1"># channel is open and available</span>

    <span class="c1"># channel is now closed</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel_number</strong> -- specify the channel number explicit</p></li>
<li><p><strong>publisher_confirms</strong> -- if <cite>True</cite> the <a class="reference internal" href="#aio_pika.Exchange.publish" title="aio_pika.Exchange.publish"><code class="xref py py-func docutils literal notranslate"><span class="pre">aio_pika.Exchange.publish()</span></code></a> method will be
return <code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code> after publish is complete. Otherwise the
<a class="reference internal" href="#aio_pika.Exchange.publish" title="aio_pika.Exchange.publish"><code class="xref py py-func docutils literal notranslate"><span class="pre">aio_pika.Exchange.publish()</span></code></a> method will be return
<code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>on_return_raises</strong> -- raise an <code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exceptions.DeliveryError</span></code>
when mandatory message will be returned</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.Connection.connect">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/aio_pika/connection.html#Connection.connect"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.Connection.connect" title="Link to this definition">¶</a></dt>
<dd><p>Connect to AMQP server. This method should be called after
<code class="xref py py-func docutils literal notranslate"><span class="pre">aio_pika.connection.Connection.__init__()</span></code></p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This method is called by <a class="reference internal" href="#aio_pika.connect" title="aio_pika.connect"><code class="xref py py-func docutils literal notranslate"><span class="pre">connect()</span></code></a>.
You shouldn't call it explicitly.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="aio_pika.DeliveryMode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aio_pika.</span></span><span class="sig-name descname"><span class="pre">DeliveryMode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aio_pika/abc.html#DeliveryMode"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.DeliveryMode" title="Link to this definition">¶</a></dt>
<dd><p>An enumeration.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="aio_pika.Exchange">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aio_pika.</span></span><span class="sig-name descname"><span class="pre">Exchange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractChannel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#aio_pika.ExchangeType" title="aio_pika.abc.ExchangeType"><span class="pre">ExchangeType</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">ExchangeType.DIRECT</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_delete</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">durable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">passive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldValue</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aio_pika/exchange.html#Exchange"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.Exchange" title="Link to this definition">¶</a></dt>
<dd><p>Exchange abstraction</p>
<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.Exchange.bind">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exchange</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractExchange</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">routing_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldValue</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">BindOk</span></span></span><a class="reference internal" href="_modules/aio_pika/exchange.html#Exchange.bind"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.Exchange.bind" title="Link to this definition">¶</a></dt>
<dd><p>A binding can also be a relationship between two exchanges.
This can be simply read as: this exchange is interested in messages
from another exchange.</p>
<p>Bindings can take an extra routing_key parameter. To avoid the confusion
with a basic_publish parameter we're going to call it a binding key.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">client</span> <span class="o">=</span> <span class="k">await</span> <span class="n">connect</span><span class="p">()</span>

<span class="n">routing_key</span> <span class="o">=</span> <span class="s1">&#39;simple_routing_key&#39;</span>
<span class="n">src_exchange_name</span> <span class="o">=</span> <span class="s2">&quot;source_exchange&quot;</span>
<span class="n">dest_exchange_name</span> <span class="o">=</span> <span class="s2">&quot;destination_exchange&quot;</span>

<span class="n">channel</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span>
<span class="n">src_exchange</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">declare_exchange</span><span class="p">(</span>
    <span class="n">src_exchange_name</span><span class="p">,</span> <span class="n">auto_delete</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="n">dest_exchange</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">declare_exchange</span><span class="p">(</span>
    <span class="n">dest_exchange_name</span><span class="p">,</span> <span class="n">auto_delete</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="n">queue</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">declare_queue</span><span class="p">(</span><span class="n">auto_delete</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">await</span> <span class="n">queue</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">dest_exchange</span><span class="p">,</span> <span class="n">routing_key</span><span class="p">)</span>
<span class="k">await</span> <span class="n">dest_exchange</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">src_exchange</span><span class="p">,</span> <span class="n">routing_key</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exchange</strong> -- <a class="reference internal" href="#aio_pika.Exchange" title="aio_pika.exchange.Exchange"><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exchange.Exchange</span></code></a> instance</p></li>
<li><p><strong>routing_key</strong> -- routing key</p></li>
<li><p><strong>arguments</strong> -- additional arguments</p></li>
<li><p><strong>timeout</strong> -- execution timeout</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.Exchange.delete">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">if_unused</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DeleteOk</span></span></span><a class="reference internal" href="_modules/aio_pika/exchange.html#Exchange.delete"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.Exchange.delete" title="Link to this definition">¶</a></dt>
<dd><p>Delete the queue</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timeout</strong> -- operation timeout</p></li>
<li><p><strong>if_unused</strong> -- perform deletion when queue has no bindings.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.Exchange.publish">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">publish</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractMessage</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">routing_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mandatory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">immediate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Ack</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Nack</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Reject</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="_modules/aio_pika/exchange.html#Exchange.publish"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.Exchange.publish" title="Link to this definition">¶</a></dt>
<dd><p>Publish the message to the queue. <cite>aio-pika</cite> uses
<a class="reference external" href="https://www.rabbitmq.com/confirms.html">publisher confirms</a> extension for message delivery.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.Exchange.unbind">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">unbind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exchange</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractExchange</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">routing_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldValue</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">UnbindOk</span></span></span><a class="reference internal" href="_modules/aio_pika/exchange.html#Exchange.unbind"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.Exchange.unbind" title="Link to this definition">¶</a></dt>
<dd><p>Remove exchange-to-exchange binding for this
<a class="reference internal" href="#aio_pika.Exchange" title="aio_pika.Exchange"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exchange</span></code></a> instance</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exchange</strong> -- <a class="reference internal" href="#aio_pika.Exchange" title="aio_pika.exchange.Exchange"><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exchange.Exchange</span></code></a> instance</p></li>
<li><p><strong>routing_key</strong> -- routing key</p></li>
<li><p><strong>arguments</strong> -- additional arguments</p></li>
<li><p><strong>timeout</strong> -- execution timeout</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="aio_pika.ExchangeType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aio_pika.</span></span><span class="sig-name descname"><span class="pre">ExchangeType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aio_pika/abc.html#ExchangeType"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.ExchangeType" title="Link to this definition">¶</a></dt>
<dd><p>An enumeration.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="aio_pika.IncomingMessage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aio_pika.</span></span><span class="sig-name descname"><span class="pre">IncomingMessage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DeliveredMessage</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_ack</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aio_pika/message.html#IncomingMessage"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.IncomingMessage" title="Link to this definition">¶</a></dt>
<dd><p>Incoming message is seems like Message but has additional methods for
message acknowledgement.</p>
<p>Depending on the acknowledgement mode used, RabbitMQ can consider a
message to be successfully delivered either immediately after it is sent
out (written to a TCP socket) or when an explicit (&quot;manual&quot;) client
acknowledgement is received. Manually sent acknowledgements can be
positive or negative and use one of the following protocol methods:</p>
<ul class="simple">
<li><p>basic.ack is used for positive acknowledgements</p></li>
<li><p>basic.nack is used for negative acknowledgements (note: this is a RabbitMQ
extension to AMQP 0-9-1)</p></li>
<li><p>basic.reject is used for negative acknowledgements but has one limitation
compared to basic.nack</p></li>
</ul>
<p>Positive acknowledgements simply instruct RabbitMQ to record a message as
delivered. Negative acknowledgements with basic.reject have the same effect.
The difference is primarily in the semantics: positive acknowledgements
assume a message was successfully processed while their negative
counterpart suggests that a delivery wasn't processed but still should
be deleted.</p>
<p>Create an instance of <a class="reference internal" href="#aio_pika.IncomingMessage" title="aio_pika.IncomingMessage"><code class="xref py py-class docutils literal notranslate"><span class="pre">IncomingMessage</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.IncomingMessage.ack">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">multiple</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/aio_pika/message.html#IncomingMessage.ack"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.IncomingMessage.ack" title="Link to this definition">¶</a></dt>
<dd><p>Send basic.ack is used for positive acknowledgements</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This method looks like a blocking-method, but actually it just
sends bytes to the socket and doesn't require any responses from
the broker.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>multiple</strong> -- If set to True, the message's delivery tag is
treated as &quot;up to and including&quot;, so that multiple
messages can be acknowledged with a single method.
If set to False, the ack refers to a single message.</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.IncomingMessage.info">
<span class="sig-name descname"><span class="pre">info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">MessageInfo</span></span></span><a class="reference internal" href="_modules/aio_pika/message.html#IncomingMessage.info"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.IncomingMessage.info" title="Link to this definition">¶</a></dt>
<dd><p>Method returns dict representation of the message</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.IncomingMessage.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">requeue</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reject_on_redelivered</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_processed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AbstractProcessContext</span></span></span><a class="reference internal" href="_modules/aio_pika/message.html#IncomingMessage.process"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.IncomingMessage.process" title="Link to this definition">¶</a></dt>
<dd><p>Context manager for processing the message</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span> <span class="nf">on_message_received</span><span class="p">(</span><span class="n">message</span><span class="p">:</span> <span class="n">IncomingMessage</span><span class="p">):</span>
<span class="gp">... </span>   <span class="k">async</span> <span class="k">with</span> <span class="n">message</span><span class="o">.</span><span class="n">process</span><span class="p">():</span>
<span class="gp">... </span>       <span class="c1"># When exception will be raised</span>
<span class="gp">... </span>       <span class="c1"># the message will be rejected</span>
<span class="gp">... </span>       <span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
</pre></div>
</div>
<p>Example with ignore_processed=True</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span> <span class="nf">on_message_received</span><span class="p">(</span><span class="n">message</span><span class="p">:</span> <span class="n">IncomingMessage</span><span class="p">):</span>
<span class="gp">... </span>   <span class="k">async</span> <span class="k">with</span> <span class="n">message</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">ignore_processed</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="gp">... </span>       <span class="c1"># Now (with ignore_processed=True) you may reject</span>
<span class="gp">... </span>       <span class="c1"># (or ack) message manually too</span>
<span class="gp">... </span>       <span class="k">if</span> <span class="kc">True</span><span class="p">:</span>  <span class="c1"># some reasonable condition here</span>
<span class="gp">... </span>           <span class="k">await</span> <span class="n">message</span><span class="o">.</span><span class="n">reject</span><span class="p">()</span>
<span class="gp">... </span>       <span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>requeue</strong> -- Requeue message when exception.</p></li>
<li><p><strong>reject_on_redelivered</strong> -- When True message will be rejected only when
message was redelivered.</p></li>
<li><p><strong>ignore_processed</strong> -- Do nothing if message already processed</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.IncomingMessage.reject">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">reject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">requeue</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/aio_pika/message.html#IncomingMessage.reject"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.IncomingMessage.reject" title="Link to this definition">¶</a></dt>
<dd><p>When <cite>requeue=True</cite> the message will be returned to queue.
Otherwise, message will be dropped.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This method looks like a blocking-method, but actually it just
sends bytes to the socket and doesn't require any responses from
the broker.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>requeue</strong> -- bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="aio_pika.Message">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aio_pika.</span></span><span class="sig-name descname"><span class="pre">Message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bytes</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytearray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Decimal</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytearray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Decimal</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">FieldValue</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldValue</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">datetime</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytearray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Decimal</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">FieldValue</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldValue</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">datetime</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">datetime</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_encoding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delivery_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#aio_pika.DeliveryMode" title="aio_pika.abc.DeliveryMode"><span class="pre">DeliveryMode</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priority</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">correlation_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reply_to</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expiration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">timedelta</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">timedelta</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">app_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aio_pika/message.html#Message"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.Message" title="Link to this definition">¶</a></dt>
<dd><p>AMQP message abstraction</p>
<p>Creates a new instance of Message</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> -- message body</p></li>
<li><p><strong>headers</strong> -- message headers</p></li>
<li><p><strong>content_type</strong> -- content type</p></li>
<li><p><strong>content_encoding</strong> -- content encoding</p></li>
<li><p><strong>delivery_mode</strong> -- delivery mode</p></li>
<li><p><strong>priority</strong> -- priority</p></li>
<li><p><strong>correlation_id</strong> -- correlation id</p></li>
<li><p><strong>reply_to</strong> -- reply to</p></li>
<li><p><strong>expiration</strong> -- expiration in seconds (or datetime or timedelta)</p></li>
<li><p><strong>message_id</strong> -- message id</p></li>
<li><p><strong>timestamp</strong> -- timestamp</p></li>
<li><p><strong>type</strong> -- type</p></li>
<li><p><strong>user_id</strong> -- user id</p></li>
<li><p><strong>app_id</strong> -- app id</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.Message.lock">
<span class="sig-name descname"><span class="pre">lock</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/aio_pika/message.html#Message.lock"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.Message.lock" title="Link to this definition">¶</a></dt>
<dd><p>Set lock flag to <cite>True</cite></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="aio_pika.Message.locked">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">locked</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#aio_pika.Message.locked" title="Link to this definition">¶</a></dt>
<dd><p>is message locked</p>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="aio_pika.Message.properties">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">properties</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Properties</span></em><a class="headerlink" href="#aio_pika.Message.properties" title="Link to this definition">¶</a></dt>
<dd><p>Build <code class="xref py py-class docutils literal notranslate"><span class="pre">aiormq.spec.Basic.Properties</span></code> object</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="aio_pika.MessageProcessError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aio_pika.</span></span><span class="sig-name descname"><span class="pre">MessageProcessError</span></span><a class="reference internal" href="_modules/aio_pika/exceptions.html#MessageProcessError"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.MessageProcessError" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="aio_pika.Queue">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aio_pika.</span></span><span class="sig-name descname"><span class="pre">Queue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractChannel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">durable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclusive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_delete</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldValue</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">passive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aio_pika/queue.html#Queue"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.Queue" title="Link to this definition">¶</a></dt>
<dd><p>AMQP queue abstraction</p>
<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.Queue.bind">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exchange</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractExchange</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">routing_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldValue</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">BindOk</span></span></span><a class="reference internal" href="_modules/aio_pika/queue.html#Queue.bind"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.Queue.bind" title="Link to this definition">¶</a></dt>
<dd><p>A binding is a relationship between an exchange and a queue.
This can be simply read as: the queue is interested in messages
from this exchange.</p>
<p>Bindings can take an extra routing_key parameter. To avoid
the confusion with a basic_publish parameter we're going to
call it a binding key.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exchange</strong> -- <a class="reference internal" href="#aio_pika.Exchange" title="aio_pika.exchange.Exchange"><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exchange.Exchange</span></code></a> instance</p></li>
<li><p><strong>routing_key</strong> -- routing key</p></li>
<li><p><strong>arguments</strong> -- additional arguments</p></li>
<li><p><strong>timeout</strong> -- execution timeout</p></li>
</ul>
</dd>
<dt class="field-even">抛出<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>asyncio.TimeoutError</strong> -- when the binding timeout period has elapsed.</p>
</dd>
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.Queue.cancel">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cancel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">consumer_tag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nowait</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">CancelOk</span></span></span><a class="reference internal" href="_modules/aio_pika/queue.html#Queue.cancel"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.Queue.cancel" title="Link to this definition">¶</a></dt>
<dd><p>This method cancels a consumer. This does not affect already
delivered messages, but it does mean the server will not send any more
messages for that consumer. The client may receive an arbitrary number
of messages in between sending the cancel method and receiving the
cancel-ok reply. It may also be sent from the server to the client in
the event of the consumer being unexpectedly cancelled (i.e. cancelled
for any reason other than the server receiving the corresponding
basic.cancel from the client). This allows clients to be notified of
the loss of consumers due to events such as queue deletion.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>consumer_tag</strong> -- consumer tag returned by <a class="reference internal" href="#aio_pika.Queue.consume" title="aio_pika.Queue.consume"><code class="xref py py-func docutils literal notranslate"><span class="pre">consume()</span></code></a></p></li>
<li><p><strong>timeout</strong> -- execution timeout</p></li>
<li><p><strong>nowait</strong> (<em>bool</em>) -- Do not expect a Basic.CancelOk response</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Basic.CancelOk when operation completed successfully</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.Queue.consume">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">consume</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">AbstractIncomingMessage</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Awaitable</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_ack</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclusive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldValue</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumer_tag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/aio_pika/queue.html#Queue.consume"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.Queue.consume" title="Link to this definition">¶</a></dt>
<dd><p>Start to consuming the <a class="reference internal" href="#aio_pika.Queue" title="aio_pika.Queue"><code class="xref py py-class docutils literal notranslate"><span class="pre">Queue</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timeout</strong> -- <code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.TimeoutError</span></code> will be raises when the
Future was not finished after this time.</p></li>
<li><p><strong>callback</strong> -- Consuming callback. Should be a coroutine function.</p></li>
<li><p><strong>no_ack</strong> -- if <code class="xref py py-class docutils literal notranslate"><span class="pre">True</span></code> you don't need to call
<code class="xref py py-func docutils literal notranslate"><span class="pre">aio_pika.message.IncomingMessage.ack()</span></code></p></li>
<li><p><strong>exclusive</strong> -- Makes this queue exclusive. Exclusive queues may only
be accessed by the current connection, and are deleted
when that connection closes. Passive declaration of an
exclusive queue by other connections are not allowed.</p></li>
<li><p><strong>arguments</strong> -- additional arguments</p></li>
<li><p><strong>consumer_tag</strong> -- optional consumer tag</p></li>
</ul>
</dd>
<dt class="field-even">抛出<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>asyncio.TimeoutError</strong> -- when the consuming timeout period has elapsed.</p>
</dd>
<dt class="field-odd">Return str<span class="colon">:</span></dt>
<dd class="field-odd"><p>consumer tag <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.Queue.declare">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">declare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DeclareOk</span></span></span><a class="reference internal" href="_modules/aio_pika/queue.html#Queue.declare"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.Queue.declare" title="Link to this definition">¶</a></dt>
<dd><p>Declare queue.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timeout</strong> -- execution timeout</p></li>
<li><p><strong>passive</strong> -- Only check to see if the queue exists.</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.Queue.delete">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">if_unused</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">if_empty</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DeleteOk</span></span></span><a class="reference internal" href="_modules/aio_pika/queue.html#Queue.delete"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.Queue.delete" title="Link to this definition">¶</a></dt>
<dd><p>Delete the queue.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>if_unused</strong> -- Perform delete only when unused</p></li>
<li><p><strong>if_empty</strong> -- Perform delete only when empty</p></li>
<li><p><strong>timeout</strong> -- execution timeout</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.Queue.get">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_ack</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fail</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#aio_pika.IncomingMessage" title="aio_pika.message.IncomingMessage"><span class="pre">IncomingMessage</span></a></span></span><a class="reference internal" href="_modules/aio_pika/queue.html#Queue.get"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.Queue.get" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_ack</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fail</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="k"><span class="pre">False</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#aio_pika.IncomingMessage" title="aio_pika.message.IncomingMessage"><span class="pre">IncomingMessage</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span></dt>
<dd><p>Get message from the queue.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>no_ack</strong> -- if <code class="xref py py-class docutils literal notranslate"><span class="pre">True</span></code> you don't need to call
<code class="xref py py-func docutils literal notranslate"><span class="pre">aio_pika.message.IncomingMessage.ack()</span></code></p></li>
<li><p><strong>timeout</strong> -- execution timeout</p></li>
<li><p><strong>fail</strong> -- Should return <code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code> instead of raise an
exception <code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exceptions.QueueEmpty</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#aio_pika.IncomingMessage" title="aio_pika.message.IncomingMessage"><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.message.IncomingMessage</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.Queue.iterator">
<span class="sig-name descname"><span class="pre">iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AbstractQueueIterator</span></span></span><a class="reference internal" href="_modules/aio_pika/queue.html#Queue.iterator"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.Queue.iterator" title="Link to this definition">¶</a></dt>
<dd><p>Returns an iterator for async for expression.</p>
<p>Full example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">aio_pika</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="k">await</span> <span class="n">aio_pika</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

    <span class="k">async</span> <span class="k">with</span> <span class="n">connection</span><span class="p">:</span>
        <span class="n">channel</span> <span class="o">=</span> <span class="k">await</span> <span class="n">connection</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span>

        <span class="n">queue</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">declare_queue</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>

        <span class="k">async</span> <span class="k">with</span> <span class="n">queue</span><span class="o">.</span><span class="n">iterator</span><span class="p">()</span> <span class="k">as</span> <span class="n">q</span><span class="p">:</span>
            <span class="k">async</span> <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">q</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
</pre></div>
</div>
<p>When your program runs with run_forever the iterator will be closed
in background. In this case the context processor for iterator might
be skipped and the queue might be used in the &quot;async for&quot;
expression directly.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">aio_pika</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="k">await</span> <span class="n">aio_pika</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

    <span class="k">async</span> <span class="k">with</span> <span class="n">connection</span><span class="p">:</span>
        <span class="n">channel</span> <span class="o">=</span> <span class="k">await</span> <span class="n">connection</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span>

        <span class="n">queue</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">declare_queue</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>

        <span class="k">async</span> <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">queue</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>QueueIterator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.Queue.purge">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">purge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">no_wait</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">PurgeOk</span></span></span><a class="reference internal" href="_modules/aio_pika/queue.html#Queue.purge"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.Queue.purge" title="Link to this definition">¶</a></dt>
<dd><p>Purge all messages from the queue.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>no_wait</strong> -- no wait response</p></li>
<li><p><strong>timeout</strong> -- execution timeout</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.Queue.unbind">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">unbind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exchange</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractExchange</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">routing_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldValue</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">UnbindOk</span></span></span><a class="reference internal" href="_modules/aio_pika/queue.html#Queue.unbind"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.Queue.unbind" title="Link to this definition">¶</a></dt>
<dd><p>Remove binding from exchange for this <a class="reference internal" href="#aio_pika.Queue" title="aio_pika.Queue"><code class="xref py py-class docutils literal notranslate"><span class="pre">Queue</span></code></a> instance</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exchange</strong> -- <a class="reference internal" href="#aio_pika.Exchange" title="aio_pika.exchange.Exchange"><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exchange.Exchange</span></code></a> instance</p></li>
<li><p><strong>routing_key</strong> -- routing key</p></li>
<li><p><strong>arguments</strong> -- additional arguments</p></li>
<li><p><strong>timeout</strong> -- execution timeout</p></li>
</ul>
</dd>
<dt class="field-even">抛出<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>asyncio.TimeoutError</strong> -- when the unbinding timeout period has elapsed.</p>
</dd>
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="aio_pika.RobustChannel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aio_pika.</span></span><span class="sig-name descname"><span class="pre">RobustChannel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractConnection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_number</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">publisher_confirms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_return_raises</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aio_pika/robust_channel.html#RobustChannel"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.RobustChannel" title="Link to this definition">¶</a></dt>
<dd><p>Channel abstraction</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>connection</strong> -- <code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.adapter.AsyncioConnection</span></code> instance</p></li>
<li><p><strong>loop</strong> -- Event loop (<code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.get_event_loop()</span></code> when <code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code>)</p></li>
<li><p><strong>future_store</strong> -- <code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.common.FutureStore</span></code> instance</p></li>
<li><p><strong>publisher_confirms</strong> -- False if you don't need delivery confirmations
(in pursuit of performance)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="aio_pika.RobustChannel.EXCHANGE_CLASS">
<span class="sig-name descname"><span class="pre">EXCHANGE_CLASS</span></span><a class="headerlink" href="#aio_pika.RobustChannel.EXCHANGE_CLASS" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#aio_pika.RobustExchange" title="aio_pika.robust_exchange.RobustExchange"><code class="xref py py-class docutils literal notranslate"><span class="pre">RobustExchange</span></code></a> 的别名</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="aio_pika.RobustChannel.QUEUE_CLASS">
<span class="sig-name descname"><span class="pre">QUEUE_CLASS</span></span><a class="headerlink" href="#aio_pika.RobustChannel.QUEUE_CLASS" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#aio_pika.RobustQueue" title="aio_pika.robust_queue.RobustQueue"><code class="xref py py-class docutils literal notranslate"><span class="pre">RobustQueue</span></code></a> 的别名</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.RobustChannel.declare_exchange">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">declare_exchange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#aio_pika.ExchangeType" title="aio_pika.abc.ExchangeType"><span class="pre">ExchangeType</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">ExchangeType.DIRECT</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">durable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_delete</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">passive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">robust</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AbstractRobustExchange</span></span></span><a class="reference internal" href="_modules/aio_pika/robust_channel.html#RobustChannel.declare_exchange"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.RobustChannel.declare_exchange" title="Link to this definition">¶</a></dt>
<dd><p>Declare an exchange.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> -- string with exchange name or
<a class="reference internal" href="#aio_pika.Exchange" title="aio_pika.exchange.Exchange"><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exchange.Exchange</span></code></a> instance</p></li>
<li><p><strong>type</strong> -- Exchange type. Enum ExchangeType value or string.
String values must be one of 'fanout', 'direct', 'topic',
'headers', 'x-delayed-message', 'x-consistent-hash'.</p></li>
<li><p><strong>durable</strong> -- Durability (exchange survive broker restart)</p></li>
<li><p><strong>auto_delete</strong> -- Delete queue when channel will be closed.</p></li>
<li><p><strong>internal</strong> -- Do not send it to broker just create an object</p></li>
<li><p><strong>passive</strong> -- Do not fail when entity was declared
previously but has another params. Raises
<code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exceptions.ChannelClosed</span></code> when exchange
doesn't exist.</p></li>
<li><p><strong>arguments</strong> -- additional arguments</p></li>
<li><p><strong>timeout</strong> -- execution timeout</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#aio_pika.Exchange" title="aio_pika.exchange.Exchange"><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exchange.Exchange</span></code></a> instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.RobustChannel.declare_queue">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">declare_queue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">durable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclusive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">passive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_delete</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">robust</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AbstractRobustQueue</span></span></span><a class="reference internal" href="_modules/aio_pika/robust_channel.html#RobustChannel.declare_queue"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.RobustChannel.declare_queue" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> -- queue name</p></li>
<li><p><strong>durable</strong> -- Durability (queue survive broker restart)</p></li>
<li><p><strong>exclusive</strong> -- Makes this queue exclusive. Exclusive queues may only
be accessed by the current connection, and are deleted when that
connection closes. Passive declaration of an exclusive queue by
other connections are not allowed.</p></li>
<li><p><strong>passive</strong> -- Do not fail when entity was declared
previously but has another params. Raises
<code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exceptions.ChannelClosed</span></code> when queue
doesn't exist.</p></li>
<li><p><strong>auto_delete</strong> -- Delete queue when channel will be closed.</p></li>
<li><p><strong>arguments</strong> -- additional arguments</p></li>
<li><p><strong>timeout</strong> -- execution timeout</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#aio_pika.Queue" title="aio_pika.queue.Queue"><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.queue.Queue</span></code></a> instance</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exceptions.ChannelClosed</span></code> instance</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="aio_pika.RobustConnection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aio_pika.</span></span><span class="sig-name descname"><span class="pre">RobustConnection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">URL</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loop</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractEventLoop</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aio_pika/robust_connection.html#RobustConnection"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.RobustConnection" title="Link to this definition">¶</a></dt>
<dd><p>Robust connection</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="aio_pika.RobustConnection.CHANNEL_CLASS">
<span class="sig-name descname"><span class="pre">CHANNEL_CLASS</span></span><a class="headerlink" href="#aio_pika.RobustConnection.CHANNEL_CLASS" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#aio_pika.RobustChannel" title="aio_pika.robust_channel.RobustChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RobustChannel</span></code></a> 的别名</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.RobustConnection.channel">
<span class="sig-name descname"><span class="pre">channel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel_number</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">publisher_confirms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_return_raises</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AbstractRobustChannel</span></span></span><a class="reference internal" href="_modules/aio_pika/robust_connection.html#RobustConnection.channel"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.RobustConnection.channel" title="Link to this definition">¶</a></dt>
<dd><p>Coroutine which returns new instance of <a class="reference internal" href="#aio_pika.Channel" title="aio_pika.Channel"><code class="xref py py-class docutils literal notranslate"><span class="pre">Channel</span></code></a>.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">aio_pika</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">loop</span><span class="p">):</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="k">await</span> <span class="n">aio_pika</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="s2">&quot;amqp://guest:guest@127.0.0.1/&quot;</span>
    <span class="p">)</span>

    <span class="n">channel1</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span>
    <span class="k">await</span> <span class="n">channel1</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="c1"># Creates channel with specific channel number</span>
    <span class="n">channel42</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">channel</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">channel42</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="c1"># For working with transactions</span>
    <span class="n">channel_no_confirms</span> <span class="o">=</span> <span class="k">await</span> <span class="n">connection</span><span class="o">.</span><span class="n">channel</span><span class="p">(</span>
        <span class="n">publisher_confirms</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">)</span>
    <span class="k">await</span> <span class="n">channel_no_confirms</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Also available as an asynchronous context manager:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">aio_pika</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">loop</span><span class="p">):</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="k">await</span> <span class="n">aio_pika</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="s2">&quot;amqp://guest:guest@127.0.0.1/&quot;</span>
    <span class="p">)</span>

    <span class="k">async</span> <span class="k">with</span> <span class="n">connection</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span> <span class="k">as</span> <span class="n">channel</span><span class="p">:</span>
        <span class="c1"># channel is open and available</span>

    <span class="c1"># channel is now closed</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel_number</strong> -- specify the channel number explicit</p></li>
<li><p><strong>publisher_confirms</strong> -- if <cite>True</cite> the <a class="reference internal" href="#aio_pika.Exchange.publish" title="aio_pika.Exchange.publish"><code class="xref py py-func docutils literal notranslate"><span class="pre">aio_pika.Exchange.publish()</span></code></a> method will be
return <code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code> after publish is complete. Otherwise the
<a class="reference internal" href="#aio_pika.Exchange.publish" title="aio_pika.Exchange.publish"><code class="xref py py-func docutils literal notranslate"><span class="pre">aio_pika.Exchange.publish()</span></code></a> method will be return
<code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>on_return_raises</strong> -- raise an <code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exceptions.DeliveryError</span></code>
when mandatory message will be returned</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.RobustConnection.connect">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/aio_pika/robust_connection.html#RobustConnection.connect"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.RobustConnection.connect" title="Link to this definition">¶</a></dt>
<dd><p>Connect to AMQP server. This method should be called after
<code class="xref py py-func docutils literal notranslate"><span class="pre">aio_pika.connection.Connection.__init__()</span></code></p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This method is called by <a class="reference internal" href="#aio_pika.connect" title="aio_pika.connect"><code class="xref py py-func docutils literal notranslate"><span class="pre">connect()</span></code></a>.
You shouldn't call it explicitly.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="aio_pika.RobustExchange">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aio_pika.</span></span><span class="sig-name descname"><span class="pre">RobustExchange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractChannel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#aio_pika.ExchangeType" title="aio_pika.abc.ExchangeType"><span class="pre">ExchangeType</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">ExchangeType.DIRECT</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_delete</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">durable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">passive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldValue</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aio_pika/robust_exchange.html#RobustExchange"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.RobustExchange" title="Link to this definition">¶</a></dt>
<dd><p>Exchange abstraction</p>
<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.RobustExchange.bind">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exchange</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractExchange</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">routing_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldValue</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">robust</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">BindOk</span></span></span><a class="reference internal" href="_modules/aio_pika/robust_exchange.html#RobustExchange.bind"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.RobustExchange.bind" title="Link to this definition">¶</a></dt>
<dd><p>A binding can also be a relationship between two exchanges.
This can be simply read as: this exchange is interested in messages
from another exchange.</p>
<p>Bindings can take an extra routing_key parameter. To avoid the confusion
with a basic_publish parameter we're going to call it a binding key.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">client</span> <span class="o">=</span> <span class="k">await</span> <span class="n">connect</span><span class="p">()</span>

<span class="n">routing_key</span> <span class="o">=</span> <span class="s1">&#39;simple_routing_key&#39;</span>
<span class="n">src_exchange_name</span> <span class="o">=</span> <span class="s2">&quot;source_exchange&quot;</span>
<span class="n">dest_exchange_name</span> <span class="o">=</span> <span class="s2">&quot;destination_exchange&quot;</span>

<span class="n">channel</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span>
<span class="n">src_exchange</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">declare_exchange</span><span class="p">(</span>
    <span class="n">src_exchange_name</span><span class="p">,</span> <span class="n">auto_delete</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="n">dest_exchange</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">declare_exchange</span><span class="p">(</span>
    <span class="n">dest_exchange_name</span><span class="p">,</span> <span class="n">auto_delete</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="n">queue</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">declare_queue</span><span class="p">(</span><span class="n">auto_delete</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">await</span> <span class="n">queue</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">dest_exchange</span><span class="p">,</span> <span class="n">routing_key</span><span class="p">)</span>
<span class="k">await</span> <span class="n">dest_exchange</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">src_exchange</span><span class="p">,</span> <span class="n">routing_key</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exchange</strong> -- <a class="reference internal" href="#aio_pika.Exchange" title="aio_pika.exchange.Exchange"><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exchange.Exchange</span></code></a> instance</p></li>
<li><p><strong>routing_key</strong> -- routing key</p></li>
<li><p><strong>arguments</strong> -- additional arguments</p></li>
<li><p><strong>timeout</strong> -- execution timeout</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.RobustExchange.unbind">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">unbind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exchange</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractExchange</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">routing_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldValue</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">UnbindOk</span></span></span><a class="reference internal" href="_modules/aio_pika/robust_exchange.html#RobustExchange.unbind"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.RobustExchange.unbind" title="Link to this definition">¶</a></dt>
<dd><p>Remove exchange-to-exchange binding for this
<a class="reference internal" href="#aio_pika.Exchange" title="aio_pika.Exchange"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exchange</span></code></a> instance</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exchange</strong> -- <a class="reference internal" href="#aio_pika.Exchange" title="aio_pika.exchange.Exchange"><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exchange.Exchange</span></code></a> instance</p></li>
<li><p><strong>routing_key</strong> -- routing key</p></li>
<li><p><strong>arguments</strong> -- additional arguments</p></li>
<li><p><strong>timeout</strong> -- execution timeout</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="aio_pika.RobustQueue">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aio_pika.</span></span><span class="sig-name descname"><span class="pre">RobustQueue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractChannel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">durable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclusive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_delete</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldValue</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">passive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aio_pika/robust_queue.html#RobustQueue"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.RobustQueue" title="Link to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="aio_pika.RobustQueue.bind">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exchange</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractExchange</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">routing_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldValue</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">robust</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">BindOk</span></span></span><a class="reference internal" href="_modules/aio_pika/robust_queue.html#RobustQueue.bind"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.RobustQueue.bind" title="Link to this definition">¶</a></dt>
<dd><p>A binding is a relationship between an exchange and a queue.
This can be simply read as: the queue is interested in messages
from this exchange.</p>
<p>Bindings can take an extra routing_key parameter. To avoid
the confusion with a basic_publish parameter we're going to
call it a binding key.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exchange</strong> -- <a class="reference internal" href="#aio_pika.Exchange" title="aio_pika.exchange.Exchange"><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exchange.Exchange</span></code></a> instance</p></li>
<li><p><strong>routing_key</strong> -- routing key</p></li>
<li><p><strong>arguments</strong> -- additional arguments</p></li>
<li><p><strong>timeout</strong> -- execution timeout</p></li>
</ul>
</dd>
<dt class="field-even">抛出<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>asyncio.TimeoutError</strong> -- when the binding timeout period has elapsed.</p>
</dd>
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.RobustQueue.cancel">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cancel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">consumer_tag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nowait</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">CancelOk</span></span></span><a class="reference internal" href="_modules/aio_pika/robust_queue.html#RobustQueue.cancel"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.RobustQueue.cancel" title="Link to this definition">¶</a></dt>
<dd><p>This method cancels a consumer. This does not affect already
delivered messages, but it does mean the server will not send any more
messages for that consumer. The client may receive an arbitrary number
of messages in between sending the cancel method and receiving the
cancel-ok reply. It may also be sent from the server to the client in
the event of the consumer being unexpectedly cancelled (i.e. cancelled
for any reason other than the server receiving the corresponding
basic.cancel from the client). This allows clients to be notified of
the loss of consumers due to events such as queue deletion.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>consumer_tag</strong> -- consumer tag returned by <a class="reference internal" href="#aio_pika.Queue.consume" title="aio_pika.Queue.consume"><code class="xref py py-func docutils literal notranslate"><span class="pre">consume()</span></code></a></p></li>
<li><p><strong>timeout</strong> -- execution timeout</p></li>
<li><p><strong>nowait</strong> (<em>bool</em>) -- Do not expect a Basic.CancelOk response</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Basic.CancelOk when operation completed successfully</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.RobustQueue.consume">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">consume</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">AbstractIncomingMessage</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Awaitable</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_ack</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclusive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldValue</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumer_tag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">robust</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/aio_pika/robust_queue.html#RobustQueue.consume"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.RobustQueue.consume" title="Link to this definition">¶</a></dt>
<dd><p>Start to consuming the <a class="reference internal" href="#aio_pika.Queue" title="aio_pika.Queue"><code class="xref py py-class docutils literal notranslate"><span class="pre">Queue</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timeout</strong> -- <code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.TimeoutError</span></code> will be raises when the
Future was not finished after this time.</p></li>
<li><p><strong>callback</strong> -- Consuming callback. Should be a coroutine function.</p></li>
<li><p><strong>no_ack</strong> -- if <code class="xref py py-class docutils literal notranslate"><span class="pre">True</span></code> you don't need to call
<code class="xref py py-func docutils literal notranslate"><span class="pre">aio_pika.message.IncomingMessage.ack()</span></code></p></li>
<li><p><strong>exclusive</strong> -- Makes this queue exclusive. Exclusive queues may only
be accessed by the current connection, and are deleted
when that connection closes. Passive declaration of an
exclusive queue by other connections are not allowed.</p></li>
<li><p><strong>arguments</strong> -- additional arguments</p></li>
<li><p><strong>consumer_tag</strong> -- optional consumer tag</p></li>
</ul>
</dd>
<dt class="field-even">抛出<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>asyncio.TimeoutError</strong> -- when the consuming timeout period has elapsed.</p>
</dd>
<dt class="field-odd">Return str<span class="colon">:</span></dt>
<dd class="field-odd"><p>consumer tag <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.RobustQueue.iterator">
<span class="sig-name descname"><span class="pre">iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AbstractQueueIterator</span></span></span><a class="reference internal" href="_modules/aio_pika/robust_queue.html#RobustQueue.iterator"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.RobustQueue.iterator" title="Link to this definition">¶</a></dt>
<dd><p>Returns an iterator for async for expression.</p>
<p>Full example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">aio_pika</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="k">await</span> <span class="n">aio_pika</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

    <span class="k">async</span> <span class="k">with</span> <span class="n">connection</span><span class="p">:</span>
        <span class="n">channel</span> <span class="o">=</span> <span class="k">await</span> <span class="n">connection</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span>

        <span class="n">queue</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">declare_queue</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>

        <span class="k">async</span> <span class="k">with</span> <span class="n">queue</span><span class="o">.</span><span class="n">iterator</span><span class="p">()</span> <span class="k">as</span> <span class="n">q</span><span class="p">:</span>
            <span class="k">async</span> <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">q</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
</pre></div>
</div>
<p>When your program runs with run_forever the iterator will be closed
in background. In this case the context processor for iterator might
be skipped and the queue might be used in the &quot;async for&quot;
expression directly.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">aio_pika</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="k">await</span> <span class="n">aio_pika</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

    <span class="k">async</span> <span class="k">with</span> <span class="n">connection</span><span class="p">:</span>
        <span class="n">channel</span> <span class="o">=</span> <span class="k">await</span> <span class="n">connection</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span>

        <span class="n">queue</span> <span class="o">=</span> <span class="k">await</span> <span class="n">channel</span><span class="o">.</span><span class="n">declare_queue</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>

        <span class="k">async</span> <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">queue</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>QueueIterator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.RobustQueue.unbind">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">unbind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exchange</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractExchange</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">routing_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldValue</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">UnbindOk</span></span></span><a class="reference internal" href="_modules/aio_pika/robust_queue.html#RobustQueue.unbind"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.RobustQueue.unbind" title="Link to this definition">¶</a></dt>
<dd><p>Remove binding from exchange for this <a class="reference internal" href="#aio_pika.Queue" title="aio_pika.Queue"><code class="xref py py-class docutils literal notranslate"><span class="pre">Queue</span></code></a> instance</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exchange</strong> -- <a class="reference internal" href="#aio_pika.Exchange" title="aio_pika.exchange.Exchange"><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.exchange.Exchange</span></code></a> instance</p></li>
<li><p><strong>routing_key</strong> -- routing key</p></li>
<li><p><strong>arguments</strong> -- additional arguments</p></li>
<li><p><strong>timeout</strong> -- execution timeout</p></li>
</ul>
</dd>
<dt class="field-even">抛出<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>asyncio.TimeoutError</strong> -- when the unbinding timeout period has elapsed.</p>
</dd>
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="aio_pika.connect">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aio_pika.</span></span><span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">~yarl.URL</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'localhost'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">5672</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">login:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'guest'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'guest'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">virtualhost:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'/'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ssl:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loop:</span> <span class="pre">~asyncio.events.AbstractEventLoop</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ssl_options:</span> <span class="pre">~aio_pika.abc.SSLOptions</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ssl_context:</span> <span class="pre">~ssl.SSLContext</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout:</span> <span class="pre">float</span> <span class="pre">|</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client_properties:</span> <span class="pre">~typing.Dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">FieldValue]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connection_class:</span> <span class="pre">~typing.Type[~aio_pika.abc.AbstractConnection]</span> <span class="pre">=</span> <span class="pre">&lt;class</span> <span class="pre">'aio_pika.connection.Connection'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs:</span> <span class="pre">~typing.Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AbstractConnection</span></span></span><a class="reference internal" href="_modules/aio_pika/connection.html#connect"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.connect" title="Link to this definition">¶</a></dt>
<dd><p>Make connection to the broker.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">aio_pika</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="k">await</span> <span class="n">aio_pika</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="s2">&quot;amqp://guest:guest@127.0.0.1/&quot;</span>
    <span class="p">)</span>
</pre></div>
</div>
<p>Connect to localhost with default credentials:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">aio_pika</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="k">await</span> <span class="n">aio_pika</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<dl class="simple">
<dt>The available keys for ssl_options parameter are:</dt><dd><ul class="simple">
<li><p>cert_reqs</p></li>
<li><p>certfile</p></li>
<li><p>keyfile</p></li>
<li><p>ssl_version</p></li>
</ul>
</dd>
</dl>
<p>For an information on what the ssl_options can be set to reference the
<a class="reference external" href="https://goo.gl/pty9xA">official Python documentation</a> .</p>
</div>
<p>Set connection name for RabbitMQ admin panel:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># As URL parameter method</span>
<span class="n">read_connection</span> <span class="o">=</span> <span class="k">await</span> <span class="n">connect</span><span class="p">(</span>
    <span class="s2">&quot;amqp://guest:guest@localhost/?name=Read</span><span class="si">%20c</span><span class="s2">onnection&quot;</span>
<span class="p">)</span>

<span class="n">write_connection</span> <span class="o">=</span> <span class="k">await</span> <span class="n">connect</span><span class="p">(</span>
    <span class="n">client_properties</span><span class="o">=</span><span class="p">{</span>
        <span class="s1">&#39;connection_name&#39;</span><span class="p">:</span> <span class="s1">&#39;Write connection&#39;</span>
    <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
<p>URL string might be containing ssl parameters e.g.
<cite>amqps://user:pass&#64;host//?ca_certs=ca.pem&amp;certfile=crt.pem&amp;keyfile=key.pem</cite></p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client_properties</strong> -- add custom client capability.</p></li>
<li><p><strong>url</strong> -- <a class="reference external" href="https://goo.gl/MzgYAs">RFC3986</a> formatted broker address. When <code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code>
will be used keyword arguments.</p></li>
<li><p><strong>host</strong> -- hostname of the broker</p></li>
<li><p><strong>port</strong> -- broker port 5672 by default</p></li>
<li><p><strong>login</strong> -- username string. <cite>'guest'</cite> by default.</p></li>
<li><p><strong>password</strong> -- password string. <cite>'guest'</cite> by default.</p></li>
<li><p><strong>virtualhost</strong> -- virtualhost parameter. <cite>'/'</cite> by default</p></li>
<li><p><strong>ssl</strong> -- use SSL for connection. Should be used with addition kwargs.</p></li>
<li><p><strong>ssl_options</strong> -- A dict of values for the SSL connection.</p></li>
<li><p><strong>timeout</strong> -- connection timeout in seconds</p></li>
<li><p><strong>loop</strong> -- Event loop (<code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.get_event_loop()</span></code> when <code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code>)</p></li>
<li><p><strong>ssl_context</strong> -- ssl.SSLContext instance</p></li>
<li><p><strong>connection_class</strong> -- Factory of a new connection</p></li>
<li><p><strong>kwargs</strong> -- addition parameters which will be passed to the connection.</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#aio_pika.Connection" title="aio_pika.connection.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.connection.Connection</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="aio_pika.connect_robust">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aio_pika.</span></span><span class="sig-name descname"><span class="pre">connect_robust</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">~yarl.URL</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'localhost'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">5672</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">login:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'guest'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'guest'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">virtualhost:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'/'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ssl:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loop:</span> <span class="pre">~asyncio.events.AbstractEventLoop</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ssl_options:</span> <span class="pre">~aio_pika.abc.SSLOptions</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ssl_context:</span> <span class="pre">~ssl.SSLContext</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout:</span> <span class="pre">float</span> <span class="pre">|</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client_properties:</span> <span class="pre">~typing.Dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">FieldValue]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connection_class:</span> <span class="pre">~typing.Type[~aio_pika.abc.AbstractRobustConnection]</span> <span class="pre">=</span> <span class="pre">&lt;class</span> <span class="pre">'aio_pika.robust_connection.RobustConnection'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs:</span> <span class="pre">~typing.Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AbstractRobustConnection</span></span></span><a class="reference internal" href="_modules/aio_pika/robust_connection.html#connect_robust"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.connect_robust" title="Link to this definition">¶</a></dt>
<dd><p>Make connection to the broker.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">aio_pika</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="k">await</span> <span class="n">aio_pika</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="s2">&quot;amqp://guest:guest@127.0.0.1/&quot;</span>
    <span class="p">)</span>
</pre></div>
</div>
<p>Connect to localhost with default credentials:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">aio_pika</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="k">await</span> <span class="n">aio_pika</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<dl class="simple">
<dt>The available keys for ssl_options parameter are:</dt><dd><ul class="simple">
<li><p>cert_reqs</p></li>
<li><p>certfile</p></li>
<li><p>keyfile</p></li>
<li><p>ssl_version</p></li>
</ul>
</dd>
</dl>
<p>For an information on what the ssl_options can be set to reference the
<a class="reference external" href="https://goo.gl/pty9xA">official Python documentation</a> .</p>
</div>
<p>Set connection name for RabbitMQ admin panel:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># As URL parameter method</span>
<span class="n">read_connection</span> <span class="o">=</span> <span class="k">await</span> <span class="n">connect</span><span class="p">(</span>
    <span class="s2">&quot;amqp://guest:guest@localhost/?name=Read</span><span class="si">%20c</span><span class="s2">onnection&quot;</span>
<span class="p">)</span>

<span class="c1"># keyword method</span>
<span class="n">write_connection</span> <span class="o">=</span> <span class="k">await</span> <span class="n">connect</span><span class="p">(</span>
    <span class="n">client_properties</span><span class="o">=</span><span class="p">{</span>
        <span class="s1">&#39;connection_name&#39;</span><span class="p">:</span> <span class="s1">&#39;Write connection&#39;</span>
    <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
<p>URL string might contain ssl parameters e.g.
<cite>amqps://user:pass&#64;host//?ca_certs=ca.pem&amp;certfile=crt.pem&amp;keyfile=key.pem</cite></p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client_properties</strong> -- add custom client capability.</p></li>
<li><p><strong>url</strong> -- <a class="reference external" href="https://goo.gl/MzgYAs">RFC3986</a> formatted broker address. When <code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code>
will be used keyword arguments.</p></li>
<li><p><strong>host</strong> -- hostname of the broker</p></li>
<li><p><strong>port</strong> -- broker port 5672 by default</p></li>
<li><p><strong>login</strong> -- username string. <cite>'guest'</cite> by default.</p></li>
<li><p><strong>password</strong> -- password string. <cite>'guest'</cite> by default.</p></li>
<li><p><strong>virtualhost</strong> -- virtualhost parameter. <cite>'/'</cite> by default</p></li>
<li><p><strong>ssl</strong> -- use SSL for connection. Should be used with addition kwargs.</p></li>
<li><p><strong>ssl_options</strong> -- A dict of values for the SSL connection.</p></li>
<li><p><strong>timeout</strong> -- connection timeout in seconds</p></li>
<li><p><strong>loop</strong> -- Event loop (<code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.get_event_loop()</span></code> when <code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code>)</p></li>
<li><p><strong>ssl_context</strong> -- ssl.SSLContext instance</p></li>
<li><p><strong>connection_class</strong> -- Factory of a new connection</p></li>
<li><p><strong>kwargs</strong> -- addition parameters which will be passed to the connection.</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#aio_pika.Connection" title="aio_pika.connection.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.connection.Connection</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="aio_pika.patterns.base">
<span class="sig-prename descclassname"><span class="pre">aio_pika.patterns.</span></span><span class="sig-name descname"><span class="pre">base</span></span><a class="headerlink" href="#aio_pika.patterns.base" title="Link to this definition">¶</a></dt>
<dd><p>&lt;module 'aio_pika.patterns.base' from '/opt/hostedtoolcache/Python/3.10.15/x64/lib/python3.10/site-packages/aio_pika/patterns/base.py'&gt; 的别名</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="aio_pika.patterns.Master">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aio_pika.patterns.</span></span><span class="sig-name descname"><span class="pre">Master</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractChannel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">requeue</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reject_on_redelivered</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aio_pika/patterns/master.html#Master"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.patterns.Master" title="Link to this definition">¶</a></dt>
<dd><p>Implements Master/Worker pattern.
Usage example:</p>
<p><cite>worker.py</cite></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">master</span> <span class="o">=</span> <span class="n">Master</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
<span class="n">worker</span> <span class="o">=</span> <span class="k">await</span> <span class="n">master</span><span class="o">.</span><span class="n">create_worker</span><span class="p">(</span><span class="s1">&#39;test_worker&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>
</div>
<p><cite>master.py</cite></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">master</span> <span class="o">=</span> <span class="n">Master</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
<span class="k">await</span> <span class="n">master</span><span class="o">.</span><span class="n">proxy</span><span class="o">.</span><span class="n">test_worker</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Creates a new <a class="reference internal" href="#aio_pika.patterns.Master" title="aio_pika.patterns.Master"><code class="xref py py-class docutils literal notranslate"><span class="pre">Master</span></code></a> instance.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>channel</strong> -- Initialized instance of <a class="reference internal" href="#aio_pika.Channel" title="aio_pika.Channel"><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.Channel</span></code></a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.patterns.Master.create_task">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_task</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">mappingproxy({})</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">message_kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Ack</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Nack</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Reject</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="_modules/aio_pika/patterns/master.html#Master.create_task"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.patterns.Master.create_task" title="Link to this definition">¶</a></dt>
<dd><p>Creates a new task for the worker</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.patterns.Master.create_worker">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_worker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queue_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Awaitable</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#aio_pika.patterns.Worker" title="aio_pika.patterns.master.Worker"><span class="pre">Worker</span></a></span></span><a class="reference internal" href="_modules/aio_pika/patterns/master.html#Master.create_worker"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.patterns.Master.create_worker" title="Link to this definition">¶</a></dt>
<dd><p>Creates a new <a class="reference internal" href="#aio_pika.patterns.Worker" title="aio_pika.patterns.Worker"><code class="xref py py-class docutils literal notranslate"><span class="pre">Worker</span></code></a> instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.patterns.Master.deserialize">
<span class="sig-name descname"><span class="pre">deserialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bytes</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="_modules/aio_pika/patterns/master.html#Master.deserialize"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.patterns.Master.deserialize" title="Link to this definition">¶</a></dt>
<dd><p>Deserialize data from bytes.
Uses <cite>pickle</cite> by default.
You should overlap this method when you want to change serializer</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> -- Data which will be deserialized</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Any</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.patterns.Master.serialize">
<span class="sig-name descname"><span class="pre">serialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bytes</span></span></span><a class="reference internal" href="_modules/aio_pika/patterns/master.html#Master.serialize"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.patterns.Master.serialize" title="Link to this definition">¶</a></dt>
<dd><p>Serialize data to the bytes.
Uses <cite>pickle</cite> by default.
You should overlap this method when you want to change serializer</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> -- Data which will be serialized</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>bytes</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="aio_pika.patterns.Worker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aio_pika.patterns.</span></span><span class="sig-name descname"><span class="pre">Worker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queue</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractQueue</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumer_tag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loop</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractEventLoop</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aio_pika/patterns/master.html#Worker"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.patterns.Worker" title="Link to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="aio_pika.patterns.Worker.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Awaitable</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/aio_pika/patterns/master.html#Worker.close"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.patterns.Worker.close" title="Link to this definition">¶</a></dt>
<dd><p>Cancel subscription to the channel</p>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.Task</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="aio_pika.patterns.RPC">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aio_pika.patterns.</span></span><span class="sig-name descname"><span class="pre">RPC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractChannel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host_exceptions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aio_pika/patterns/rpc.html#RPC"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.patterns.RPC" title="Link to this definition">¶</a></dt>
<dd><p>Remote Procedure Call helper.</p>
<p>Create an instance</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rpc</span> <span class="o">=</span> <span class="k">await</span> <span class="n">RPC</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">host_exceptions</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Registering python function</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># RPC instance passes only keyword arguments</span>
<span class="k">def</span> <span class="nf">multiply</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span>

<span class="k">await</span> <span class="n">rpc</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="s2">&quot;multiply&quot;</span><span class="p">,</span> <span class="n">multiply</span><span class="p">)</span>
</pre></div>
</div>
<p>Call function through proxy</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">assert</span> <span class="k">await</span> <span class="n">rpc</span><span class="o">.</span><span class="n">proxy</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="mi">6</span>
</pre></div>
</div>
<p>Call function explicit</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">assert</span> <span class="k">await</span> <span class="n">rpc</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;multiply&#39;</span><span class="p">,</span> <span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span> <span class="o">==</span> <span class="mi">6</span>
</pre></div>
</div>
<p>Show exceptions on remote side</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rpc</span> <span class="o">=</span> <span class="k">await</span> <span class="n">RPC</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">host_exceptions</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.patterns.RPC.call">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">call</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expiration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priority</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delivery_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#aio_pika.DeliveryMode" title="aio_pika.abc.DeliveryMode"><span class="pre">DeliveryMode</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">DeliveryMode.NOT_PERSISTENT</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="_modules/aio_pika/patterns/rpc.html#RPC.call"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.patterns.RPC.call" title="Link to this definition">¶</a></dt>
<dd><p>Call remote method and awaiting result.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method_name</strong> -- Name of method</p></li>
<li><p><strong>kwargs</strong> -- Methos kwargs</p></li>
<li><p><strong>expiration</strong> -- If not <cite>None</cite> messages which staying in queue longer
will be returned and <code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.TimeoutError</span></code> will be raised.</p></li>
<li><p><strong>priority</strong> -- Message priority</p></li>
<li><p><strong>delivery_mode</strong> -- Call message delivery mode</p></li>
</ul>
</dd>
<dt class="field-even">抛出<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>asyncio.TimeoutError</strong> -- when message expired</p></li>
<li><p><strong>CancelledError</strong> -- when called <code class="xref py py-func docutils literal notranslate"><span class="pre">RPC.cancel()</span></code></p></li>
<li><p><strong>RuntimeError</strong> -- internal error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.patterns.RPC.create">
<em class="property"><span class="pre">async</span><span class="w"> </span><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractChannel</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#aio_pika.patterns.RPC" title="aio_pika.patterns.rpc.RPC"><span class="pre">RPC</span></a></span></span><a class="reference internal" href="_modules/aio_pika/patterns/rpc.html#RPC.create"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.patterns.RPC.create" title="Link to this definition">¶</a></dt>
<dd><p>Creates a new instance of <a class="reference internal" href="#aio_pika.patterns.RPC" title="aio_pika.patterns.RPC"><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.patterns.RPC</span></code></a>.
You should use this method instead of <code class="xref py py-func docutils literal notranslate"><span class="pre">__init__()</span></code>,
because <a class="reference internal" href="#aio_pika.patterns.RPC.create" title="aio_pika.patterns.RPC.create"><code class="xref py py-func docutils literal notranslate"><span class="pre">create()</span></code></a> returns coroutine and makes async initialize</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>channel</strong> -- initialized instance of <a class="reference internal" href="#aio_pika.Channel" title="aio_pika.Channel"><code class="xref py py-class docutils literal notranslate"><span class="pre">aio_pika.Channel</span></code></a></p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#aio_pika.patterns.RPC" title="aio_pika.patterns.RPC"><code class="xref py py-class docutils literal notranslate"><span class="pre">RPC</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.patterns.RPC.execute">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Awaitable</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payload</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">T</span></span></span><a class="reference internal" href="_modules/aio_pika/patterns/rpc.html#RPC.execute"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.patterns.RPC.execute" title="Link to this definition">¶</a></dt>
<dd><p>Executes rpc call. Might be overlapped.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.patterns.RPC.register">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Awaitable</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="_modules/aio_pika/patterns/rpc.html#RPC.register"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.patterns.RPC.register" title="Link to this definition">¶</a></dt>
<dd><p>Method creates a queue with name which equal of
<cite>method_name</cite> argument. Then subscribes this queue.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method_name</strong> -- Method name</p></li>
<li><p><strong>func</strong> -- target function. Function <strong>MUST</strong> accept only keyword arguments.</p></li>
<li><p><strong>kwargs</strong> -- arguments which will be passed to <cite>queue_declare</cite></p></li>
</ul>
</dd>
<dt class="field-even">抛出<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>RuntimeError</strong> -- Function already registered in this <a class="reference internal" href="#aio_pika.patterns.RPC" title="aio_pika.patterns.RPC"><code class="xref py py-class docutils literal notranslate"><span class="pre">RPC</span></code></a> instance
or method_name already used.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.patterns.RPC.serialize_exception">
<span class="sig-name descname"><span class="pre">serialize_exception</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exception</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Exception</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="_modules/aio_pika/patterns/rpc.html#RPC.serialize_exception"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.patterns.RPC.serialize_exception" title="Link to this definition">¶</a></dt>
<dd><p>Make python exception serializable</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aio_pika.patterns.RPC.unregister">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">unregister</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Awaitable</span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/aio_pika/patterns/rpc.html#RPC.unregister"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#aio_pika.patterns.RPC.unregister" title="Link to this definition">¶</a></dt>
<dd><p>Cancels subscription to the method-queue.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>func</strong> -- Function</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          <a class="prev-page" href="rabbitmq-tutorial/7-publisher-confirms.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">发布确认</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Dmitry Orlov
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/mosquito/aio-pika" aria-label="GitHub"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg></a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">API 参考</a><ul>
<li><a class="reference internal" href="#aio_pika.AMQPException"><code class="docutils literal notranslate"><span class="pre">AMQPException</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.Channel"><code class="docutils literal notranslate"><span class="pre">Channel</span></code></a><ul>
<li><a class="reference internal" href="#aio_pika.Channel.EXCHANGE_CLASS"><code class="docutils literal notranslate"><span class="pre">Channel.EXCHANGE_CLASS</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.Channel.QUEUE_CLASS"><code class="docutils literal notranslate"><span class="pre">Channel.QUEUE_CLASS</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.Channel.declare_exchange"><code class="docutils literal notranslate"><span class="pre">Channel.declare_exchange()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.Channel.declare_queue"><code class="docutils literal notranslate"><span class="pre">Channel.declare_queue()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.Channel.get_exchange"><code class="docutils literal notranslate"><span class="pre">Channel.get_exchange()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.Channel.get_queue"><code class="docutils literal notranslate"><span class="pre">Channel.get_queue()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.Channel.is_closed"><code class="docutils literal notranslate"><span class="pre">Channel.is_closed</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.Channel.is_initialized"><code class="docutils literal notranslate"><span class="pre">Channel.is_initialized</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#aio_pika.Connection"><code class="docutils literal notranslate"><span class="pre">Connection</span></code></a><ul>
<li><a class="reference internal" href="#aio_pika.Connection.CHANNEL_CLASS"><code class="docutils literal notranslate"><span class="pre">Connection.CHANNEL_CLASS</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.Connection.channel"><code class="docutils literal notranslate"><span class="pre">Connection.channel()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.Connection.connect"><code class="docutils literal notranslate"><span class="pre">Connection.connect()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#aio_pika.DeliveryMode"><code class="docutils literal notranslate"><span class="pre">DeliveryMode</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.Exchange"><code class="docutils literal notranslate"><span class="pre">Exchange</span></code></a><ul>
<li><a class="reference internal" href="#aio_pika.Exchange.bind"><code class="docutils literal notranslate"><span class="pre">Exchange.bind()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.Exchange.delete"><code class="docutils literal notranslate"><span class="pre">Exchange.delete()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.Exchange.publish"><code class="docutils literal notranslate"><span class="pre">Exchange.publish()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.Exchange.unbind"><code class="docutils literal notranslate"><span class="pre">Exchange.unbind()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#aio_pika.ExchangeType"><code class="docutils literal notranslate"><span class="pre">ExchangeType</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.IncomingMessage"><code class="docutils literal notranslate"><span class="pre">IncomingMessage</span></code></a><ul>
<li><a class="reference internal" href="#aio_pika.IncomingMessage.ack"><code class="docutils literal notranslate"><span class="pre">IncomingMessage.ack()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.IncomingMessage.info"><code class="docutils literal notranslate"><span class="pre">IncomingMessage.info()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.IncomingMessage.process"><code class="docutils literal notranslate"><span class="pre">IncomingMessage.process()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.IncomingMessage.reject"><code class="docutils literal notranslate"><span class="pre">IncomingMessage.reject()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#aio_pika.Message"><code class="docutils literal notranslate"><span class="pre">Message</span></code></a><ul>
<li><a class="reference internal" href="#aio_pika.Message.lock"><code class="docutils literal notranslate"><span class="pre">Message.lock()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.Message.locked"><code class="docutils literal notranslate"><span class="pre">Message.locked</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.Message.properties"><code class="docutils literal notranslate"><span class="pre">Message.properties</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#aio_pika.MessageProcessError"><code class="docutils literal notranslate"><span class="pre">MessageProcessError</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.Queue"><code class="docutils literal notranslate"><span class="pre">Queue</span></code></a><ul>
<li><a class="reference internal" href="#aio_pika.Queue.bind"><code class="docutils literal notranslate"><span class="pre">Queue.bind()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.Queue.cancel"><code class="docutils literal notranslate"><span class="pre">Queue.cancel()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.Queue.consume"><code class="docutils literal notranslate"><span class="pre">Queue.consume()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.Queue.declare"><code class="docutils literal notranslate"><span class="pre">Queue.declare()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.Queue.delete"><code class="docutils literal notranslate"><span class="pre">Queue.delete()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.Queue.get"><code class="docutils literal notranslate"><span class="pre">Queue.get()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.Queue.iterator"><code class="docutils literal notranslate"><span class="pre">Queue.iterator()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.Queue.purge"><code class="docutils literal notranslate"><span class="pre">Queue.purge()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.Queue.unbind"><code class="docutils literal notranslate"><span class="pre">Queue.unbind()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#aio_pika.RobustChannel"><code class="docutils literal notranslate"><span class="pre">RobustChannel</span></code></a><ul>
<li><a class="reference internal" href="#aio_pika.RobustChannel.EXCHANGE_CLASS"><code class="docutils literal notranslate"><span class="pre">RobustChannel.EXCHANGE_CLASS</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.RobustChannel.QUEUE_CLASS"><code class="docutils literal notranslate"><span class="pre">RobustChannel.QUEUE_CLASS</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.RobustChannel.declare_exchange"><code class="docutils literal notranslate"><span class="pre">RobustChannel.declare_exchange()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.RobustChannel.declare_queue"><code class="docutils literal notranslate"><span class="pre">RobustChannel.declare_queue()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#aio_pika.RobustConnection"><code class="docutils literal notranslate"><span class="pre">RobustConnection</span></code></a><ul>
<li><a class="reference internal" href="#aio_pika.RobustConnection.CHANNEL_CLASS"><code class="docutils literal notranslate"><span class="pre">RobustConnection.CHANNEL_CLASS</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.RobustConnection.channel"><code class="docutils literal notranslate"><span class="pre">RobustConnection.channel()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.RobustConnection.connect"><code class="docutils literal notranslate"><span class="pre">RobustConnection.connect()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#aio_pika.RobustExchange"><code class="docutils literal notranslate"><span class="pre">RobustExchange</span></code></a><ul>
<li><a class="reference internal" href="#aio_pika.RobustExchange.bind"><code class="docutils literal notranslate"><span class="pre">RobustExchange.bind()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.RobustExchange.unbind"><code class="docutils literal notranslate"><span class="pre">RobustExchange.unbind()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#aio_pika.RobustQueue"><code class="docutils literal notranslate"><span class="pre">RobustQueue</span></code></a><ul>
<li><a class="reference internal" href="#aio_pika.RobustQueue.bind"><code class="docutils literal notranslate"><span class="pre">RobustQueue.bind()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.RobustQueue.cancel"><code class="docutils literal notranslate"><span class="pre">RobustQueue.cancel()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.RobustQueue.consume"><code class="docutils literal notranslate"><span class="pre">RobustQueue.consume()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.RobustQueue.iterator"><code class="docutils literal notranslate"><span class="pre">RobustQueue.iterator()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.RobustQueue.unbind"><code class="docutils literal notranslate"><span class="pre">RobustQueue.unbind()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#aio_pika.connect"><code class="docutils literal notranslate"><span class="pre">connect()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.connect_robust"><code class="docutils literal notranslate"><span class="pre">connect_robust()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.patterns.base"><code class="docutils literal notranslate"><span class="pre">base</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.patterns.Master"><code class="docutils literal notranslate"><span class="pre">Master</span></code></a><ul>
<li><a class="reference internal" href="#aio_pika.patterns.Master.create_task"><code class="docutils literal notranslate"><span class="pre">Master.create_task()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.patterns.Master.create_worker"><code class="docutils literal notranslate"><span class="pre">Master.create_worker()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.patterns.Master.deserialize"><code class="docutils literal notranslate"><span class="pre">Master.deserialize()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.patterns.Master.serialize"><code class="docutils literal notranslate"><span class="pre">Master.serialize()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#aio_pika.patterns.Worker"><code class="docutils literal notranslate"><span class="pre">Worker</span></code></a><ul>
<li><a class="reference internal" href="#aio_pika.patterns.Worker.close"><code class="docutils literal notranslate"><span class="pre">Worker.close()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#aio_pika.patterns.RPC"><code class="docutils literal notranslate"><span class="pre">RPC</span></code></a><ul>
<li><a class="reference internal" href="#aio_pika.patterns.RPC.call"><code class="docutils literal notranslate"><span class="pre">RPC.call()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.patterns.RPC.create"><code class="docutils literal notranslate"><span class="pre">RPC.create()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.patterns.RPC.execute"><code class="docutils literal notranslate"><span class="pre">RPC.execute()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.patterns.RPC.register"><code class="docutils literal notranslate"><span class="pre">RPC.register()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.patterns.RPC.serialize_exception"><code class="docutils literal notranslate"><span class="pre">RPC.serialize_exception()</span></code></a></li>
<li><a class="reference internal" href="#aio_pika.patterns.RPC.unregister"><code class="docutils literal notranslate"><span class="pre">RPC.unregister()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=5d35f1ad"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="_static/translations.js?v=beaddf03"></script>
    </body>
</html>